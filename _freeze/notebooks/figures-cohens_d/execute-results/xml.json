{
  "hash": "1f3536735ac42375b2be4d2144674213",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Code for Figures 1-2 based on Cohen's d\"\nauthor: \"Eduard Klapwijk\"\n---\n\n\n\n\nLoad libraries to produce figures:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# load libraries\nlibrary(dplyr)\nlibrary(patchwork)\n# load devtools library and load neuro-up package from github repo\nlibrary(devtools)\ninstall_github(\"eduardklap/neuroUp\")\nlibrary(neuroUp)\n```\n:::\n\n\n\n\nSet seed and create Figure 1A for the Feedback task DLPFC ROI:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# set seed\nset.seed(1234)\n\n# Estimate differences (unstandardized and Cohen's d)\nFig1a <- estim_diff(data = feedback,\n                    vars_of_interest = c(\"mfg_learning\", \n                                         \"mfg_application\"),\n                    sample_size = 20:271, \n                    k = 1000, \n                    name = \"A. Feedback DLPFC\")\n```\n:::\n\n\n\n\nSet seed and create Figure 1B for the Gambling task NAcc ROI:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# set seed\nset.seed(1234)\n\n# Estimate differences (unstandardized and Cohen's d)\nFig1b <- estim_diff(data = gambling, \n                    vars_of_interest = c(\"lnacc_self_win\", \n                                         \"lnacc_self_loss\"), \n                    sample_size = 20:221, \n                    k = 1000, \n                    name = \"B. Gambling NAcc\")\n```\n:::\n\n\n\n\nSet seed and create Figure 1C for the Self-evaluations task mPFC ROI:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# set seed\nset.seed(1234)\n\n# Estimate differences (unstandardized and Cohen's d)\nFig1c <- estim_diff(data = self_eval, \n                    vars_of_interest = c(\"mpfc_self\", \n                                         \"mpfc_control\"),\n                    sample_size = 20:149, \n                    k = 10, \n                    name = \"C. Self-evaluations mPFC\")\n```\n:::\n\n\n\n\nSet seed and create Figure 1D for the Gaining for self task NAcc ROI:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# set seed\nset.seed(1234)\n\n# Estimate differences (unstandardized and Cohen's d)\nFig1d <- estim_diff(data = vicar_char, \n                    vars_of_interest = c(\"nacc_selfgain\", \n                                         \"nacc_bothnogain\"),\n                    sample_size = 20:156, \n                    k = 10, \n                    name = \"D. Gaining self NAcc\")\n```\n:::\n\n\n\n\nCombine figures 1A-D in one figure for Cohen's d estimates:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nFig1a$fig_cohens_d + Fig1b$fig_cohens_d + Fig1c$fig_cohens_d + Fig1d$fig_cohens_d\n```\n:::\n\n\n\n\nCombine figures 1A-D in one figure for the proportion of intervals not containing the value 0:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nFig1a$fig_d_nozero + Fig1b$fig_d_nozero + Fig1c$fig_d_nozero + Fig1d$fig_d_nozero\n```\n:::\n\n\n\n\nExtract numbers to make table 2:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# first extract tibble from results (select mean only)\nfeedback <- as_tibble(Fig1a$tbl_select) %>%\n  dplyr::filter(permutation == \"Overall\")\ngambling <- as_tibble(Fig1b$tbl_select) %>%\n  dplyr::filter(permutation == \"Overall\")\nselfeval <- as_tibble(Fig1c$tbl_select) %>%\n  dplyr::filter(permutation == \"Overall\")\ngaining <- as_tibble(Fig1d$tbl_select) %>%\n  dplyr::filter(permutation == \"Overall\")\n\n# use numbers to make a table in text\n```\n:::\n",
    "supporting": [
      "figures-cohens_d_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}